<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <!-- Bootstrap core CSS -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Material Design Bootstrap -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.5.15/css/mdb.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.6.1/css/all.css"
      integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/stylesheets/main.css" />
    <title>Perfil</title>
  </head>
  <body class="">
    <!-- Main Navigation -->
    <header>
      <nav class="navbar navbar-expand-lg navbar-dark info-color">
        <a class="navbar-brand" href="#"><strong>SportID</strong></a>
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
              <a class="nav-link" href="#"
                >Home <span class="sr-only">(current)</span></a
              >
            </li>
            <li class="nav-item"><a class="nav-link" href="#">Features</a></li>
            <li class="nav-item"><a class="nav-link" href="#">Pricing</a></li>
            <li class="nav-item"><a class="nav-link" href="#">Opinions</a></li>
            <li class="nav-item">
              <a class="nav-link" href="/clubadmin">Admin de Club</a>
            </li>
          </ul>
          <ul class="navbar-nav nav-flex-icons">
            <li class="nav-item">
              <a class="nav-link"><i class="fa fa-facebook"></i></a>
            </li>
            <li class="nav-item">
              <a class="nav-link"><i class="fa fa-twitter"></i></a>
            </li>
            <li class="nav-item">
              <a href="/logout" class="nav-link"
                ><i
                  aria-hidden
                  class="fas fa-sign-out-alt"
                  title="Cerrar Sesión"
                ></i
              ></a>
            </li>
          </ul>
        </div>
      </nav>
    </header>
    <!-- Main Navigation -->
    <br />
    <div class="container-fluid mx-auto">
      <h1 class="display-4 text-center">
        <strong>Club: </strong> <%= user.club_triatlon %>
      </h1>
      <table class="table-sm table-hover">
        <thead class="">
          <tr>
            <th scope="col">ID</th>
            <th scope="col">Nombre</th>
            <th scope="col">Apellidos</th>
            <th scope="col">Número de Documento</th>
            <th scope="col">Email</th>
            <th scope="col">Celular</th>
            <th scope="col">País de Nacimiento</th>
            <th scope="col">Alergias</th>
            <th scope="col">Seguro de Salud</th>
            <th scope="col">Ciudad de Residencia</th>
            <th scope="col">Categoria Atrisc</th>
            <th scope="col">Nombre Contacto de Emergencia</th>
            <th scope="col">Número Contacto de Emergencia</th>
          </tr>
        </thead>
        <tbody>
          <% for(var i=0; i < members.length; i++) { %>
          <tr class="clickable-row" data-href="http://localhost:8080/profile/<%= members[i].id %>">
            <td><%= members[i].id %></td>
            <td><%= members[i].nombre %></td>
            <td><%= members[i].apellido %></td>
            <td><%= members[i].nro_documento %></td>
            <td><%= members[i].email %></td>
            <td class=""><%= members[i].celular %></td>
            <td><%= members[i].pais_nac %></td>
            <td><%= members[i].alergias %></td>
            <td><%= members[i].seguro_salud %></td>
            <td><%= members[i].ciudad_residencia %></td>
            <td><%= members[i].categoria_atrisc %></td>
            <td><%= members[i].contacto_emerg_nombre %></td>
            <td class=""><%= members[i].contacto_emerg_numero %></td>
          </tr>
          <% } %>
        </tbody>
      </table>
    </div>

    <!-- JQuery -->
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"
    ></script>
    <!-- Bootstrap tooltips -->
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"
    ></script>
    <!-- Bootstrap core JavaScript -->
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js"
    ></script>
    <!-- MDB core JavaScript -->
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.5.15/js/mdb.min.js"
    ></script>
    <script>
      let elements = document.getElementsByClassName('clickable-row');
      console.log(elements)
      for(let i = 0; i < elements.length; i++) {
        let element = elements[i];
        element.addEventListener('click', () => {
          let href = this.dataset.href;
          if(href) {
            window.location.assign(href)
          }
        })
      }
    </script>
  </body>
</html>
